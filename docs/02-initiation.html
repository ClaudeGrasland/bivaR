<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Partie 2 Office killer | Introduction à la statistique bivariée et aux représentations graphiques avec R</title>
  <meta name="description" content="Cours dispensé en M1 MECI Option Data" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Partie 2 Office killer | Introduction à la statistique bivariée et aux représentations graphiques avec R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Cours dispensé en M1 MECI Option Data" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Partie 2 Office killer | Introduction à la statistique bivariée et aux représentations graphiques avec R" />
  
  <meta name="twitter:description" content="Cours dispensé en M1 MECI Option Data" />
  

<meta name="author" content="Claude Grasland" />


<meta name="date" content="2023-01-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="01-principes.html"/>
<link rel="next" href="03-R-Base.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>


<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Introduction à la statistique bivariée et aux représentations graphiques avec R</a></li>

<li class="divider"></li>
<li><a href="index.html#à-propos-de-ce-document" id="toc-à-propos-de-ce-document">À propos de ce document</a>
<ul>
<li><a href="index.html#remerciements" id="toc-remerciements">Remerciements</a></li>
<li><a href="index.html#licence" id="toc-licence">Licence</a></li>
</ul></li>
<li><a href="01-principes.html#premiers-pas" id="toc-premiers-pas"><span class="toc-section-number">1</span> Premiers pas</a>
<ul>
<li><a href="01-principes.html#opérations-arithmétiques" id="toc-opérations-arithmétiques"><span class="toc-section-number">1.1</span> Opérations arithmétiques</a></li>
<li><a href="01-principes.html#les-objets-de-base-valeur-vecteur-matrice" id="toc-les-objets-de-base-valeur-vecteur-matrice"><span class="toc-section-number">1.2</span> Les objets de base : valeur, vecteur, matrice</a>
<ul>
<li><a href="01-principes.html#eléments" id="toc-eléments"><span class="toc-section-number">1.2.1</span> Eléments</a></li>
<li><a href="01-principes.html#vecteurs-vectors" id="toc-vecteurs-vectors"><span class="toc-section-number">1.2.2</span> vecteurs (<em>vectors</em>)</a></li>
<li><a href="01-principes.html#matrices-matrix" id="toc-matrices-matrix"><span class="toc-section-number">1.2.3</span> Matrices (<em>matrix</em>)</a></li>
</ul></li>
<li><a href="01-principes.html#ne-pas-confondre-listes-et-vecteurs" id="toc-ne-pas-confondre-listes-et-vecteurs"><span class="toc-section-number">1.3</span> Ne pas confondre listes et vecteurs !</a></li>
<li><a href="01-principes.html#attention-aux-types-de-variables" id="toc-attention-aux-types-de-variables"><span class="toc-section-number">1.4</span> Attention aux types de variables …</a></li>
<li><a href="01-principes.html#types-de-tableaux-et-guerres-de-religion." id="toc-types-de-tableaux-et-guerres-de-religion."><span class="toc-section-number">1.5</span> Types de tableaux et guerres de religion.</a>
<ul>
<li><a href="01-principes.html#le-type-data.frame" id="toc-le-type-data.frame"><span class="toc-section-number">1.5.1</span> Le type <em>data.frame</em> :</a></li>
<li><a href="01-principes.html#le-type-tibble" id="toc-le-type-tibble"><span class="toc-section-number">1.5.2</span> Le type <em>tibble</em></a></li>
<li><a href="01-principes.html#le-type-data.table" id="toc-le-type-data.table"><span class="toc-section-number">1.5.3</span> Le type <em>data.table</em></a></li>
</ul></li>
<li><a href="01-principes.html#en-résumé" id="toc-en-résumé"><span class="toc-section-number">1.6</span> En résumé</a></li>
<li><a href="01-principes.html#exercices" id="toc-exercices"><span class="toc-section-number">1.7</span> Exercices</a></li>
</ul></li>
<li><a href="02-initiation.html#office-killer" id="toc-office-killer"><span class="toc-section-number">2</span> Office killer</a>
<ul>
<li><a href="02-initiation.html#rstudio-et-les-projets-r" id="toc-rstudio-et-les-projets-r"><span class="toc-section-number">2.1</span> Rstudio et les projets R</a>
<ul>
<li><a href="02-initiation.html#lancement-de-r-studio" id="toc-lancement-de-r-studio"><span class="toc-section-number">2.1.1</span> Lancement de R studio</a></li>
<li><a href="02-initiation.html#création-dun-projet" id="toc-création-dun-projet"><span class="toc-section-number">2.1.2</span> Création d’un projet</a></li>
</ul></li>
<li><a href="02-initiation.html#programme-r-excel-killer" id="toc-programme-r-excel-killer"><span class="toc-section-number">2.2</span> Programme R : Excel killer ?</a>
<ul>
<li><a href="02-initiation.html#round-1.-saisie-des-données-et-affichage-du-tableau" id="toc-round-1.-saisie-des-données-et-affichage-du-tableau"><span class="toc-section-number">2.2.1</span> Round 1. Saisie des données et affichage du tableau</a></li>
<li><a href="02-initiation.html#round-2.-affichage-de-la-carte" id="toc-round-2.-affichage-de-la-carte"><span class="toc-section-number">2.2.2</span> Round 2. Affichage de la carte</a></li>
<li><a href="02-initiation.html#round-3.-calcul-de-la-station-la-plus-accessible-à-vol-doiseau-distance-euclidienne" id="toc-round-3.-calcul-de-la-station-la-plus-accessible-à-vol-doiseau-distance-euclidienne"><span class="toc-section-number">2.2.3</span> Round 3. Calcul de la station la plus accessible à vol d’oiseau (distance euclidienne)</a></li>
<li><a href="02-initiation.html#round-4.-calcul-de-la-station-la-plus-accessible-par-la-route-distance-de-manhattan" id="toc-round-4.-calcul-de-la-station-la-plus-accessible-par-la-route-distance-de-manhattan"><span class="toc-section-number">2.2.4</span> Round 4. Calcul de la station la plus accessible par la route (distance de Manhattan)</a></li>
<li><a href="02-initiation.html#round-5.-localisation-du-dépôt-de-carburant" id="toc-round-5.-localisation-du-dépôt-de-carburant"><span class="toc-section-number">2.2.5</span> Round 5. Localisation du dépôt de carburant</a></li>
<li><a href="02-initiation.html#round-6.-localisation-de-la-caserne-de-pompiers" id="toc-round-6.-localisation-de-la-caserne-de-pompiers"><span class="toc-section-number">2.2.6</span> Round 6. Localisation de la caserne de pompiers</a></li>
<li><a href="02-initiation.html#round-7.-visualisation-des-deux-points-sur-la-carte" id="toc-round-7.-visualisation-des-deux-points-sur-la-carte"><span class="toc-section-number">2.2.7</span> Round 7. Visualisation des deux points sur la carte</a></li>
<li><a href="02-initiation.html#dernier-round.-refaire-toute-lanalyse-avec-une-station-de-plus" id="toc-dernier-round.-refaire-toute-lanalyse-avec-une-station-de-plus"><span class="toc-section-number">2.2.8</span> Dernier round. Refaire toute l’analyse avec une station de plus</a></li>
</ul></li>
<li><a href="02-initiation.html#document-rmd-word-killer" id="toc-document-rmd-word-killer"><span class="toc-section-number">2.3</span> Document Rmd : Word killer ?</a>
<ul>
<li><a href="02-initiation.html#chargement-des-données" id="toc-chargement-des-données"><span class="toc-section-number">2.3.1</span> Chargement des données</a></li>
<li><a href="02-initiation.html#contour-de-rennes" id="toc-contour-de-rennes"><span class="toc-section-number">2.3.2</span> Contour de Rennes</a></li>
<li><a href="02-initiation.html#distribution-de-la-population" id="toc-distribution-de-la-population"><span class="toc-section-number">2.3.3</span> Distribution de la population</a></li>
<li><a href="02-initiation.html#distribution-des-équipements" id="toc-distribution-des-équipements"><span class="toc-section-number">2.3.4</span> Distribution des équipements</a></li>
<li><a href="02-initiation.html#synthèse" id="toc-synthèse"><span class="toc-section-number">2.3.5</span> Synthèse</a></li>
</ul></li>
<li><a href="02-initiation.html#diapos-rmd-power-point-killer" id="toc-diapos-rmd-power-point-killer"><span class="toc-section-number">2.4</span> Diapos Rmd : Power Point killer</a></li>
<li><a href="02-initiation.html#en-résumé-1" id="toc-en-résumé-1"><span class="toc-section-number">2.5</span> En résumé</a></li>
</ul></li>
<li><a href="03-R-Base.html#r-base" id="toc-r-base"><span class="toc-section-number">3</span> R-Base</a>
<ul>
<li><a href="03-R-Base.html#tableaux" id="toc-tableaux"><span class="toc-section-number">3.1</span> Tableaux</a>
<ul>
<li><a href="03-R-Base.html#importation" id="toc-importation"><span class="toc-section-number">3.1.1</span> Importation</a></li>
<li><a href="03-R-Base.html#transformations" id="toc-transformations"><span class="toc-section-number">3.1.2</span> Transformations</a></li>
<li><a href="03-R-Base.html#extractions" id="toc-extractions"><span class="toc-section-number">3.1.3</span> Extractions</a></li>
</ul></li>
<li><a href="03-R-Base.html#exploration-i-var.-quali." id="toc-exploration-i-var.-quali."><span class="toc-section-number">3.2</span> Exploration I (<em>var. quali.</em>)</a>
<ul>
<li><a href="03-R-Base.html#sélection-et-recodage" id="toc-sélection-et-recodage"><span class="toc-section-number">3.2.1</span> Sélection et recodage</a></li>
<li><a href="03-R-Base.html#table-de-dénombrement" id="toc-table-de-dénombrement"><span class="toc-section-number">3.2.2</span> Table de dénombrement</a></li>
<li><a href="03-R-Base.html#graphique-avec-plot" id="toc-graphique-avec-plot"><span class="toc-section-number">3.2.3</span> Graphique avec plot()</a></li>
</ul></li>
<li><a href="03-R-Base.html#exploration-ii-var.-quanti" id="toc-exploration-ii-var.-quanti"><span class="toc-section-number">3.3</span> Exploration II (<em>var. quanti</em>)</a>
<ul>
<li><a href="03-R-Base.html#résumés-numériques" id="toc-résumés-numériques"><span class="toc-section-number">3.3.1</span> Résumés numériques</a></li>
<li><a href="03-R-Base.html#dénombrement" id="toc-dénombrement"><span class="toc-section-number">3.3.2</span> Dénombrement</a></li>
<li><a href="03-R-Base.html#boîte-à-moustaches" id="toc-boîte-à-moustaches"><span class="toc-section-number">3.3.3</span> Boîte à moustaches</a></li>
<li><a href="03-R-Base.html#histogramme" id="toc-histogramme"><span class="toc-section-number">3.3.4</span> Histogramme</a></li>
</ul></li>
<li><a href="03-R-Base.html#exploration-iii-2-variables" id="toc-exploration-iii-2-variables"><span class="toc-section-number">3.4</span> Exploration III (<em>2 variables</em>)</a>
<ul>
<li><a href="03-R-Base.html#deux-variables-qualitatives" id="toc-deux-variables-qualitatives"><span class="toc-section-number">3.4.1</span> Deux variables qualitatives</a></li>
<li><a href="03-R-Base.html#deux-variables-quantitatives" id="toc-deux-variables-quantitatives"><span class="toc-section-number">3.4.2</span> Deux variables quantitatives</a></li>
<li><a href="03-R-Base.html#une-quantitative-et-une-qualitative" id="toc-une-quantitative-et-une-qualitative"><span class="toc-section-number">3.4.3</span> Une quantitative et une qualitative</a></li>
</ul></li>
<li><a href="03-R-Base.html#en-résumé-2" id="toc-en-résumé-2"><span class="toc-section-number">3.5</span> En résumé</a></li>
</ul></li>
<li><a href="04-Corrélation.html#corrélation" id="toc-corrélation"><span class="toc-section-number">4</span> Corrélation</a>
<ul>
<li><a href="04-Corrélation.html#préparation-des-données" id="toc-préparation-des-données"><span class="toc-section-number">4.1</span> Préparation des données</a>
<ul>
<li><a href="04-Corrélation.html#chargement-du-tableau-principal" id="toc-chargement-du-tableau-principal"><span class="toc-section-number">4.1.1</span> Chargement du tableau principal</a></li>
<li><a href="04-Corrélation.html#choix-des-deux-variables-à-analyser" id="toc-choix-des-deux-variables-à-analyser"><span class="toc-section-number">4.1.2</span> Choix des deux variables à analyser</a></li>
<li><a href="04-Corrélation.html#on-est-malin" id="toc-on-est-malin"><span class="toc-section-number">4.1.3</span> On est malin …</a></li>
<li><a href="04-Corrélation.html#on-est-paresseux" id="toc-on-est-paresseux"><span class="toc-section-number">4.1.4</span> On est paresseux …</a></li>
</ul></li>
<li><a href="04-Corrélation.html#exploration-visuelle" id="toc-exploration-visuelle"><span class="toc-section-number">4.2</span> Exploration visuelle</a>
<ul>
<li><a href="04-Corrélation.html#visualisation-avec-plotxy" id="toc-visualisation-avec-plotxy"><span class="toc-section-number">4.2.1</span> Visualisation avec plot(X,Y)</a></li>
<li><a href="04-Corrélation.html#identification-des-points-avec-cor-text" id="toc-identification-des-points-avec-cor-text"><span class="toc-section-number">4.2.2</span> Identification des points avec <strong>cor</strong> + <strong>text(…)</strong></a></li>
<li><a href="04-Corrélation.html#ajout-de-lignes-horizontales-ou-verticales-avec-cor-abline" id="toc-ajout-de-lignes-horizontales-ou-verticales-avec-cor-abline"><span class="toc-section-number">4.2.3</span> Ajout de lignes horizontales ou verticales avec <strong>cor()</strong> + <strong>abline(…)</strong></a></li>
<li><a href="04-Corrélation.html#au-delà-de-r-base" id="toc-au-delà-de-r-base"><span class="toc-section-number">4.2.4</span> Au delà de R-Base …</a></li>
</ul></li>
<li><a href="04-Corrélation.html#coefficients-de-corrélation" id="toc-coefficients-de-corrélation"><span class="toc-section-number">4.3</span> Coefficients de corrélation</a>
<ul>
<li><a href="04-Corrélation.html#définition" id="toc-définition"><span class="toc-section-number">4.3.1</span> Définition</a></li>
<li><a href="04-Corrélation.html#la-fonction-cor" id="toc-la-fonction-cor"><span class="toc-section-number">4.3.2</span> La fonction <strong>cor()</strong></a></li>
<li><a href="04-Corrélation.html#la-fonction-cor.test" id="toc-la-fonction-cor.test"><span class="toc-section-number">4.3.3</span> La fonction cor.test()</a></li>
<li><a href="04-Corrélation.html#en-résumé-intensité-ou-significativité" id="toc-en-résumé-intensité-ou-significativité"><span class="toc-section-number">4.3.4</span> En résumé : intensité ou significativité ?</a></li>
</ul></li>
<li><a href="04-Corrélation.html#matrice-de-corrélation" id="toc-matrice-de-corrélation"><span class="toc-section-number">4.4</span> Matrice de corrélation</a>
<ul>
<li><a href="04-Corrélation.html#objectif-de-lanalyse" id="toc-objectif-de-lanalyse"><span class="toc-section-number">4.4.1</span> Objectif de l’analyse</a></li>
<li><a href="04-Corrélation.html#utilisation-des-résultats" id="toc-utilisation-des-résultats"><span class="toc-section-number">4.4.2</span> Utilisation des résultats</a></li>
<li><a href="04-Corrélation.html#visualisation-dune-matrice-de-corrélation" id="toc-visualisation-dune-matrice-de-corrélation"><span class="toc-section-number">4.4.3</span> Visualisation d’une matrice de corrélation</a></li>
<li><a href="04-Corrélation.html#exemple-création-dun-tableau-quantitatif" id="toc-exemple-création-dun-tableau-quantitatif"><span class="toc-section-number">4.4.4</span> Exemple : création d’un tableau quantitatif</a></li>
<li><a href="04-Corrélation.html#utilisation-du-package-psych" id="toc-utilisation-du-package-psych"><span class="toc-section-number">4.4.5</span> Utilisation du package psych</a></li>
<li><a href="04-Corrélation.html#utilisation-du-package-factominer" id="toc-utilisation-du-package-factominer"><span class="toc-section-number">4.4.6</span> Utilisation du package factoMineR</a></li>
</ul></li>
</ul></li>
<li><a href="05-Régression.html#régression" id="toc-régression"><span class="toc-section-number">5</span> Régression</a>
<ul>
<li><a href="05-Régression.html#préparation-des-données-1" id="toc-préparation-des-données-1"><span class="toc-section-number">5.1</span> Préparation des données</a>
<ul>
<li><a href="05-Régression.html#chargement-du-tableau-principal-1" id="toc-chargement-du-tableau-principal-1"><span class="toc-section-number">5.1.1</span> Chargement du tableau principal</a></li>
<li><a href="05-Régression.html#choix-des-deux-variables-à-analyser-1" id="toc-choix-des-deux-variables-à-analyser-1"><span class="toc-section-number">5.1.2</span> Choix des deux variables à analyser</a></li>
</ul></li>
<li><a href="05-Régression.html#forme-de-la-relation" id="toc-forme-de-la-relation"><span class="toc-section-number">5.2</span> Forme de la relation</a>
<ul>
<li><a href="05-Régression.html#vérification-de-la-normalité-de-x-et-y" id="toc-vérification-de-la-normalité-de-x-et-y"><span class="toc-section-number">5.2.1</span> Vérification de la normalité de X et Y</a></li>
<li><a href="05-Régression.html#visualisation-de-la-forme-de-la-relation" id="toc-visualisation-de-la-forme-de-la-relation"><span class="toc-section-number">5.2.2</span> Visualisation de la forme de la relation</a></li>
<li><a href="05-Régression.html#analyse-de-la-corrélation" id="toc-analyse-de-la-corrélation"><span class="toc-section-number">5.2.3</span> Analyse de la corrélation</a></li>
</ul></li>
<li><a href="05-Régression.html#ajustement-du-modèle" id="toc-ajustement-du-modèle"><span class="toc-section-number">5.3</span> Ajustement du modèle</a>
<ul>
<li><a href="05-Régression.html#hypothèses-statistiques" id="toc-hypothèses-statistiques"><span class="toc-section-number">5.3.1</span> Hypothèses statistiques</a></li>
<li><a href="05-Régression.html#la-fonction-lm" id="toc-la-fonction-lm"><span class="toc-section-number">5.3.2</span> La fonction lm()</a></li>
</ul></li>
<li><a href="05-Régression.html#diagnostics-du-modèle" id="toc-diagnostics-du-modèle"><span class="toc-section-number">5.4</span> Diagnostics du modèle</a>
<ul>
<li><a href="05-Régression.html#diagnostic-1-indépendance-des-résidus" id="toc-diagnostic-1-indépendance-des-résidus"><span class="toc-section-number">5.4.1</span> Diagnostic 1 : Indépendance des résidus ?</a></li>
<li><a href="05-Régression.html#diagnostic-2-normalité-des-résidus" id="toc-diagnostic-2-normalité-des-résidus"><span class="toc-section-number">5.4.2</span> Diagnostic 2 : Normalité des résidus ?</a></li>
<li><a href="05-Régression.html#diagnostic-3-homogénéité-des-résidus" id="toc-diagnostic-3-homogénéité-des-résidus"><span class="toc-section-number">5.4.3</span> Diagnostic 3 : Homogénéité des résidus ?</a></li>
<li><a href="05-Régression.html#diagnostic-4-absence-de-valeur-exceptionnelles" id="toc-diagnostic-4-absence-de-valeur-exceptionnelles"><span class="toc-section-number">5.4.4</span> Diagnostic 4 : Absence de valeur exceptionnelles ?</a></li>
</ul></li>
<li><a href="05-Régression.html#améliorations-du-modèle" id="toc-améliorations-du-modèle"><span class="toc-section-number">5.5</span> Améliorations du modèle</a>
<ul>
<li><a href="05-Régression.html#modèle-linéaire-r2-46" id="toc-modèle-linéaire-r2-46"><span class="toc-section-number">5.5.1</span> Modèle linéaire (R2 = 46%)</a></li>
<li><a href="05-Régression.html#modèle-linéaire-sans-lalbanie-r2-53" id="toc-modèle-linéaire-sans-lalbanie-r2-53"><span class="toc-section-number">5.5.2</span> Modèle linéaire sans l’Albanie (R2 = 53%)</a></li>
<li><a href="05-Régression.html#modèle-exponentiel-r2-63" id="toc-modèle-exponentiel-r2-63"><span class="toc-section-number">5.5.3</span> Modèle exponentiel (R2 = 63%)</a></li>
<li><a href="05-Régression.html#modèle-puissance-r2-83" id="toc-modèle-puissance-r2-83"><span class="toc-section-number">5.5.4</span> Modèle puissance (R2 = 83%)</a></li>
</ul></li>
</ul></li>
<li><a href="06-Anova.html#analyse-de-variance" id="toc-analyse-de-variance"><span class="toc-section-number">6</span> Analyse de variance</a>
<ul>
<li><a href="06-Anova.html#préparation-des-données-2" id="toc-préparation-des-données-2"><span class="toc-section-number">6.1</span> Préparation des données</a>
<ul>
<li><a href="06-Anova.html#chargement-du-fichier" id="toc-chargement-du-fichier"><span class="toc-section-number">6.1.1</span> Chargement du fichier</a></li>
<li><a href="06-Anova.html#contenu-du-fichier" id="toc-contenu-du-fichier"><span class="toc-section-number">6.1.2</span> Contenu du fichier</a></li>
<li><a href="06-Anova.html#dictionaire-des-variables" id="toc-dictionaire-des-variables"><span class="toc-section-number">6.1.3</span> Dictionaire des variables</a></li>
<li><a href="06-Anova.html#recodage-des-variables" id="toc-recodage-des-variables"><span class="toc-section-number">6.1.4</span> Recodage des variables</a></li>
<li><a href="06-Anova.html#ajout-dune-nouvelle-variable" id="toc-ajout-dune-nouvelle-variable"><span class="toc-section-number">6.1.5</span> Ajout d’une nouvelle variable</a></li>
<li><a href="06-Anova.html#résumé-de-lensemble-du-tableau" id="toc-résumé-de-lensemble-du-tableau"><span class="toc-section-number">6.1.6</span> Résumé de l’ensemble du tableau</a></li>
</ul></li>
<li><a href="06-Anova.html#rappels-sur-la-régression" id="toc-rappels-sur-la-régression"><span class="toc-section-number">6.2</span> Rappels sur la régression</a>
<ul>
<li><a href="06-Anova.html#la-distribution-de-pct-est-elle-normale" id="toc-la-distribution-de-pct-est-elle-normale"><span class="toc-section-number">6.2.1</span> La distribution de PCT est-elle normale ?</a></li>
<li><a href="06-Anova.html#y-a-t-il-une-relation-entre-le-prix-du-repas-et-le-pourboire" id="toc-y-a-t-il-une-relation-entre-le-prix-du-repas-et-le-pourboire"><span class="toc-section-number">6.2.2</span> Y-a-t-il une relation entre le prix du repas et le pourboire ?</a></li>
<li><a href="06-Anova.html#modèle-de-régression" id="toc-modèle-de-régression"><span class="toc-section-number">6.2.3</span> Modèle de régression</a></li>
</ul></li>
<li><a href="06-Anova.html#test-dégalité-des-moyennes" id="toc-test-dégalité-des-moyennes"><span class="toc-section-number">6.3</span> Test d’égalité des moyennes</a>
<ul>
<li><a href="06-Anova.html#hypothèses" id="toc-hypothèses"><span class="toc-section-number">6.3.1</span> Hypothèses</a></li>
<li><a href="06-Anova.html#visualisations" id="toc-visualisations"><span class="toc-section-number">6.3.2</span> Visualisations</a></li>
<li><a href="06-Anova.html#paramètres-principaux" id="toc-paramètres-principaux"><span class="toc-section-number">6.3.3</span> Paramètres principaux</a></li>
<li><a href="06-Anova.html#test-dégalité-des-moyennes-1" id="toc-test-dégalité-des-moyennes-1"><span class="toc-section-number">6.3.4</span> Test d’égalité des moyennes</a></li>
</ul></li>
<li><a href="06-Anova.html#analyse-de-variance-1" id="toc-analyse-de-variance-1"><span class="toc-section-number">6.4</span> Analyse de variance</a>
<ul>
<li><a href="06-Anova.html#hypothèses-1" id="toc-hypothèses-1"><span class="toc-section-number">6.4.1</span> Hypothèses</a></li>
<li><a href="06-Anova.html#calcul-des-paramètres-principaux" id="toc-calcul-des-paramètres-principaux"><span class="toc-section-number">6.4.2</span> Calcul des paramètres principaux</a></li>
<li><a href="06-Anova.html#visualisation" id="toc-visualisation"><span class="toc-section-number">6.4.3</span> Visualisation</a></li>
<li><a href="06-Anova.html#modélisation-simple" id="toc-modélisation-simple"><span class="toc-section-number">6.4.4</span> Modélisation simple</a></li>
<li><a href="06-Anova.html#modélisation-avancée" id="toc-modélisation-avancée"><span class="toc-section-number">6.4.5</span> Modélisation avancée</a></li>
</ul></li>
<li><a href="06-Anova.html#annexe-les-variables-hybrides" id="toc-annexe-les-variables-hybrides"><span class="toc-section-number">6.5</span> Annexe : les variables hybrides</a>
<ul>
<li><a href="06-Anova.html#size-quantitative-discrète" id="toc-size-quantitative-discrète"><span class="toc-section-number">6.5.1</span> SIZE = quantitative discrète</a></li>
<li><a href="06-Anova.html#size-qualitative-ordinale" id="toc-size-qualitative-ordinale"><span class="toc-section-number">6.5.2</span> SIZE = qualitative ordinale</a></li>
</ul></li>
</ul></li>
<li><a href="07-Tabcont.html#analyse-denquêtes" id="toc-analyse-denquêtes"><span class="toc-section-number">7</span> Analyse d’enquêtes</a>
<ul>
<li><a href="07-Tabcont.html#introduction" id="toc-introduction"><span class="toc-section-number">7.1</span> Introduction</a></li>
<li><a href="07-Tabcont.html#préparation-des-données-3" id="toc-préparation-des-données-3"><span class="toc-section-number">7.2</span> Préparation des données</a>
<ul>
<li><a href="07-Tabcont.html#importation-du-fichier-au-format-.rds" id="toc-importation-du-fichier-au-format-.rds"><span class="toc-section-number">7.2.1</span> Importation du fichier au format .RDS</a></li>
<li><a href="07-Tabcont.html#simplifiée-des-variables" id="toc-simplifiée-des-variables"><span class="toc-section-number">7.2.2</span> (simplifiée) des variables</a></li>
<li><a href="07-Tabcont.html#résumé-des-variables-tri-à-plat" id="toc-résumé-des-variables-tri-à-plat"><span class="toc-section-number">7.2.3</span> Résumé des variables (tri à plat)</a></li>
<li><a href="07-Tabcont.html#tailles-des-échantillons-par-pays-et-par-date" id="toc-tailles-des-échantillons-par-pays-et-par-date"><span class="toc-section-number">7.2.4</span> Tailles des échantillons par pays et par date</a></li>
<li><a href="07-Tabcont.html#sélection-dun-échantillon" id="toc-sélection-dun-échantillon"><span class="toc-section-number">7.2.5</span> Sélection d’un échantillon</a></li>
<li><a href="07-Tabcont.html#recodage-des-modalités" id="toc-recodage-des-modalités"><span class="toc-section-number">7.2.6</span> Recodage des modalités</a></li>
<li><a href="07-Tabcont.html#découpage-de-variables-quantitatives-en-classes" id="toc-découpage-de-variables-quantitatives-en-classes"><span class="toc-section-number">7.2.7</span> Découpage de variables quantitatives en classes</a></li>
<li><a href="07-Tabcont.html#sélection" id="toc-sélection"><span class="toc-section-number">7.2.8</span> Sélection</a></li>
</ul></li>
<li><a href="07-Tabcont.html#opinion-usa" id="toc-opinion-usa"><span class="toc-section-number">7.3</span> Opinion USA</a>
<ul>
<li><a href="07-Tabcont.html#la-fonction-table" id="toc-la-fonction-table"><span class="toc-section-number">7.3.1</span> la fonction table()</a></li>
<li><a href="07-Tabcont.html#visualisation-avec-plot-ou-barplot" id="toc-visualisation-avec-plot-ou-barplot"><span class="toc-section-number">7.3.2</span> Visualisation avec plot ou barplot</a></li>
<li><a href="07-Tabcont.html#recodage" id="toc-recodage"><span class="toc-section-number">7.3.3</span> Recodage</a></li>
<li><a href="07-Tabcont.html#calcul-de-lintervalle-de-confiance" id="toc-calcul-de-lintervalle-de-confiance"><span class="toc-section-number">7.3.4</span> Calcul de l’intervalle de confiance</a></li>
<li><a href="07-Tabcont.html#prise-en-compte-de-la-variable-de-redressement." id="toc-prise-en-compte-de-la-variable-de-redressement."><span class="toc-section-number">7.3.5</span> Prise en compte de la variable de redressement.</a></li>
</ul></li>
<li><a href="07-Tabcont.html#opinion-usa-sexe" id="toc-opinion-usa-sexe"><span class="toc-section-number">7.4</span> Opinion USA / Sexe</a>
<ul>
<li><a href="07-Tabcont.html#tableau-de-contingence" id="toc-tableau-de-contingence"><span class="toc-section-number">7.4.1</span> tableau de contingence</a></li>
<li><a href="07-Tabcont.html#pourcentages" id="toc-pourcentages"><span class="toc-section-number">7.4.2</span> Pourcentages</a></li>
<li><a href="07-Tabcont.html#première-visualisation" id="toc-première-visualisation"><span class="toc-section-number">7.4.3</span> Première visualisation</a></li>
<li><a href="07-Tabcont.html#test-du-chi-2" id="toc-test-du-chi-2"><span class="toc-section-number">7.4.4</span> test du chi-2</a></li>
<li><a href="07-Tabcont.html#analyse-des-résidus" id="toc-analyse-des-résidus"><span class="toc-section-number">7.4.5</span> Analyse des résidus</a></li>
</ul></li>
<li><a href="07-Tabcont.html#opinion-usa-âge" id="toc-opinion-usa-âge"><span class="toc-section-number">7.5</span> Opinion USA / Âge</a>
<ul>
<li><a href="07-Tabcont.html#effet-de-génération" id="toc-effet-de-génération"><span class="toc-section-number">7.5.1</span> Effet de génération</a></li>
<li><a href="07-Tabcont.html#effet-dâge" id="toc-effet-dâge"><span class="toc-section-number">7.5.2</span> Effet d’âge</a></li>
</ul></li>
<li><a href="07-Tabcont.html#opinion-usa-age-sexe" id="toc-opinion-usa-age-sexe"><span class="toc-section-number">7.6</span> Opinion USA / Age &amp; Sexe</a>
<ul>
<li><a href="07-Tabcont.html#sous-échantillon-des-hommes" id="toc-sous-échantillon-des-hommes"><span class="toc-section-number">7.6.1</span> Sous-échantillon des hommes</a></li>
<li><a href="07-Tabcont.html#sous-échantillon-des-femmes" id="toc-sous-échantillon-des-femmes"><span class="toc-section-number">7.6.2</span> Sous-échantillon des femmes</a></li>
<li><a href="07-Tabcont.html#régression-logistique" id="toc-régression-logistique"><span class="toc-section-number">7.6.3</span> Régression logistique</a></li>
</ul></li>
</ul></li>
<li><a href="08-Graphique-Base.html#graphiques-avec-r-base" id="toc-graphiques-avec-r-base"><span class="toc-section-number">8</span> Graphiques avec R-Base</a>
<ul>
<li><a href="08-Graphique-Base.html#introduction-1" id="toc-introduction-1"><span class="toc-section-number">8.1</span> Introduction</a>
<ul>
<li><a href="08-Graphique-Base.html#pourquoi-sembêter-à-utiliser-les-fonctions-primitives-de-r-pour-faire-des-graphiques" id="toc-pourquoi-sembêter-à-utiliser-les-fonctions-primitives-de-r-pour-faire-des-graphiques"><span class="toc-section-number">8.1.1</span> Pourquoi s’em…bêter à utiliser les fonctions primitives de R pour faire des graphiques ?</a></li>
<li><a href="08-Graphique-Base.html#trois-étapes-pour-créer-un-graphique" id="toc-trois-étapes-pour-créer-un-graphique"><span class="toc-section-number">8.1.2</span> Trois étapes pour créer un graphique</a></li>
</ul></li>
<li><a href="08-Graphique-Base.html#préparation-des-données-4" id="toc-préparation-des-données-4"><span class="toc-section-number">8.2</span> Préparation des données</a>
<ul>
<li><a href="08-Graphique-Base.html#chargement-du-fichier-1" id="toc-chargement-du-fichier-1"><span class="toc-section-number">8.2.1</span> Chargement du fichier</a></li>
<li><a href="08-Graphique-Base.html#contenu-du-fichier-1" id="toc-contenu-du-fichier-1"><span class="toc-section-number">8.2.2</span> Contenu du fichier</a></li>
<li><a href="08-Graphique-Base.html#dictionaire-des-variables-1" id="toc-dictionaire-des-variables-1"><span class="toc-section-number">8.2.3</span> Dictionaire des variables</a></li>
<li><a href="08-Graphique-Base.html#recodage-des-variables-1" id="toc-recodage-des-variables-1"><span class="toc-section-number">8.2.4</span> Recodage des variables</a></li>
<li><a href="08-Graphique-Base.html#ajout-dune-nouvelle-variable-1" id="toc-ajout-dune-nouvelle-variable-1"><span class="toc-section-number">8.2.5</span> Ajout d’une nouvelle variable</a></li>
<li><a href="08-Graphique-Base.html#résumé-de-lensemble-du-tableau-1" id="toc-résumé-de-lensemble-du-tableau-1"><span class="toc-section-number">8.2.6</span> Résumé de l’ensemble du tableau</a></li>
<li><a href="08-Graphique-Base.html#la-fonction-par" id="toc-la-fonction-par"><span class="toc-section-number">8.2.7</span> La fonction par()</a></li>
<li><a href="08-Graphique-Base.html#fonction-par-mfrow" id="toc-fonction-par-mfrow"><span class="toc-section-number">8.2.8</span> fonction par() + mfrow</a></li>
<li><a href="08-Graphique-Base.html#autres-paramètres-de-par" id="toc-autres-paramètres-de-par"><span class="toc-section-number">8.2.9</span> Autres paramètres de par()</a></li>
<li><a href="08-Graphique-Base.html#la-fonction-layout" id="toc-la-fonction-layout"><span class="toc-section-number">8.2.10</span> La fonction layout()</a></li>
</ul></li>
<li><a href="08-Graphique-Base.html#la-fonction-génératrice-plot" id="toc-la-fonction-génératrice-plot"><span class="toc-section-number">8.3</span> La fonction génératrice plot()</a>
<ul>
<li><a href="08-Graphique-Base.html#une-super-fonction" id="toc-une-super-fonction"><span class="toc-section-number">8.3.1</span> Une super-fonction</a></li>
<li><a href="08-Graphique-Base.html#plotx-x-de-type-factor" id="toc-plotx-x-de-type-factor"><span class="toc-section-number">8.3.2</span> plot(X) / X de type factor</a></li>
<li><a href="08-Graphique-Base.html#plotx-x-de-type-numeric" id="toc-plotx-x-de-type-numeric"><span class="toc-section-number">8.3.3</span> plot(X) / X de type numeric</a></li>
<li><a href="08-Graphique-Base.html#plotxy-x-et-y-de-type-factor" id="toc-plotxy-x-et-y-de-type-factor"><span class="toc-section-number">8.3.4</span> plot(X,Y) / X et Y de type factor</a></li>
<li><a href="08-Graphique-Base.html#plotxy-x-et-y-de-type-numerique" id="toc-plotxy-x-et-y-de-type-numerique"><span class="toc-section-number">8.3.5</span> plot(X,Y) / X et Y de type numerique</a></li>
<li><a href="08-Graphique-Base.html#plotxy-x-de-type-factor-et-y-de-type-numerique" id="toc-plotxy-x-de-type-factor-et-y-de-type-numerique"><span class="toc-section-number">8.3.6</span> plot(X,Y) / X de type factor et Y de type numerique</a></li>
<li><a href="08-Graphique-Base.html#plotxy-x-de-type-factor-et-y-de-type-numerique-1" id="toc-plotxy-x-de-type-factor-et-y-de-type-numerique-1"><span class="toc-section-number">8.3.7</span> plot(X,Y) / X de type factor et Y de type numerique</a></li>
<li><a href="08-Graphique-Base.html#plotmodel-model-lmyx" id="toc-plotmodel-model-lmyx"><span class="toc-section-number">8.3.8</span> plot(model) / model = lm(Y~X)</a></li>
</ul></li>
<li><a href="08-Graphique-Base.html#les-autres-fonctions-génératrice" id="toc-les-autres-fonctions-génératrice"><span class="toc-section-number">8.4</span> Les autres fonctions génératrice</a>
<ul>
<li><a href="08-Graphique-Base.html#la-fonction-barplot" id="toc-la-fonction-barplot"><span class="toc-section-number">8.4.1</span> La fonction barplot()</a></li>
<li><a href="08-Graphique-Base.html#les-fonctions-hist-et-density" id="toc-les-fonctions-hist-et-density"><span class="toc-section-number">8.4.2</span> Les fonctions hist() et density()</a></li>
</ul></li>
<li><a href="08-Graphique-Base.html#les-fonctions-complémentaires" id="toc-les-fonctions-complémentaires"><span class="toc-section-number">8.5</span> Les fonctions complémentaires</a>
<ul>
<li><a href="08-Graphique-Base.html#exemple-dun-nuage-de-points-xy" id="toc-exemple-dun-nuage-de-points-xy"><span class="toc-section-number">8.5.1</span> Exemple d’un nuage de points (X,Y)</a></li>
</ul></li>
<li><a href="08-Graphique-Base.html#conclusion" id="toc-conclusion"><span class="toc-section-number">8.6</span> Conclusion</a>
<ul>
<li><a href="08-Graphique-Base.html#on-peut-faire-de-beaux-graphiques-avec-r-base" id="toc-on-peut-faire-de-beaux-graphiques-avec-r-base"><span class="toc-section-number">8.6.1</span> On peut faire de beaux graphiques avec R-Base …</a></li>
<li><a href="08-Graphique-Base.html#on-peut-utiliser-des-packages-spécialisés" id="toc-on-peut-utiliser-des-packages-spécialisés"><span class="toc-section-number">8.6.2</span> On peut utiliser des packages spécialisés</a></li>
<li><a href="08-Graphique-Base.html#ggally-un-package-spécialisé-dans-la-statistique-bivariée" id="toc-ggally-un-package-spécialisé-dans-la-statistique-bivariée"><span class="toc-section-number">8.6.3</span> ggally : un package spécialisé dans la statistique bivariée</a></li>
<li><a href="08-Graphique-Base.html#ggplot2-un-package-graphique-universel" id="toc-ggplot2-un-package-graphique-universel"><span class="toc-section-number">8.6.4</span> ggplot2 : un package graphique universel ?</a></li>
</ul></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#graphiques-avec-ggplot2" id="toc-graphiques-avec-ggplot2"><span class="toc-section-number">9</span> Graphiques avec ggplot2</a>
<ul>
<li><a href="09-Graphique-ggplot.html#introduction-2" id="toc-introduction-2"><span class="toc-section-number">9.1</span> Introduction</a>
<ul>
<li><a href="09-Graphique-ggplot.html#ggplot2-et-tydiverse" id="toc-ggplot2-et-tydiverse"><span class="toc-section-number">9.1.1</span> ggplot2 et tydiverse</a></li>
<li><a href="09-Graphique-ggplot.html#ggplot2-cheatsheet" id="toc-ggplot2-cheatsheet"><span class="toc-section-number">9.1.2</span> ggplot2 cheatsheet</a></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#préparation-des-données-5" id="toc-préparation-des-données-5"><span class="toc-section-number">9.2</span> préparation des données</a>
<ul>
<li><a href="09-Graphique-ggplot.html#chargement-du-fichier-2" id="toc-chargement-du-fichier-2"><span class="toc-section-number">9.2.1</span> Chargement du fichier</a></li>
<li><a href="09-Graphique-ggplot.html#contenu-du-fichier-2" id="toc-contenu-du-fichier-2"><span class="toc-section-number">9.2.2</span> Contenu du fichier</a></li>
<li><a href="09-Graphique-ggplot.html#dictionaire-des-variables-2" id="toc-dictionaire-des-variables-2"><span class="toc-section-number">9.2.3</span> Dictionaire des variables</a></li>
<li><a href="09-Graphique-ggplot.html#recodage-des-variables-2" id="toc-recodage-des-variables-2"><span class="toc-section-number">9.2.4</span> Recodage des variables</a></li>
<li><a href="09-Graphique-ggplot.html#résumé-de-lensemble-du-tableau-2" id="toc-résumé-de-lensemble-du-tableau-2"><span class="toc-section-number">9.2.5</span> Résumé de l’ensemble du tableau</a></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#principes-généraux" id="toc-principes-généraux"><span class="toc-section-number">9.3</span> Principes généraux</a>
<ul>
<li><a href="09-Graphique-ggplot.html#les-différentes-étapes" id="toc-les-différentes-étapes"><span class="toc-section-number">9.3.1</span> Les différentes étapes</a></li>
<li><a href="09-Graphique-ggplot.html#la-figure-à-réaliser" id="toc-la-figure-à-réaliser"><span class="toc-section-number">9.3.2</span> La figure à réaliser</a></li>
<li><a href="09-Graphique-ggplot.html#la-construction-pas-à-pas" id="toc-la-construction-pas-à-pas"><span class="toc-section-number">9.3.3</span> La construction pas à pas</a></li>
<li><a href="09-Graphique-ggplot.html#comparaison-avec-r-base" id="toc-comparaison-avec-r-base"><span class="toc-section-number">9.3.4</span> Comparaison avec R-Base</a></li>
<li><a href="09-Graphique-ggplot.html#attention-paramètres-aes-locaux-et-globaux" id="toc-attention-paramètres-aes-locaux-et-globaux"><span class="toc-section-number">9.3.5</span> Attention ! Paramètres aes() locaux et globaux</a></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#x-discrète" id="toc-x-discrète"><span class="toc-section-number">9.4</span> X discrète</a>
<ul>
<li><a href="09-Graphique-ggplot.html#barplot-r-base" id="toc-barplot-r-base"><span class="toc-section-number">9.4.1</span> barplot (R-base)</a></li>
<li><a href="09-Graphique-ggplot.html#geom_bar-ggplot2" id="toc-geom_bar-ggplot2"><span class="toc-section-number">9.4.2</span> geom_bar (ggplot2)</a></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#x-quantitative-continue" id="toc-x-quantitative-continue"><span class="toc-section-number">9.5</span> X quantitative continue</a>
<ul>
<li><a href="09-Graphique-ggplot.html#hist-r-base" id="toc-hist-r-base"><span class="toc-section-number">9.5.1</span> hist (R-base)</a></li>
<li><a href="09-Graphique-ggplot.html#geom_histogram-ggplot2" id="toc-geom_histogram-ggplot2"><span class="toc-section-number">9.5.2</span> geom_histogram (ggplot2)</a></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#x-et-y-quantitatives-continues" id="toc-x-et-y-quantitatives-continues"><span class="toc-section-number">9.6</span> X et Y quantitatives continues</a>
<ul>
<li><a href="09-Graphique-ggplot.html#plot-r-base" id="toc-plot-r-base"><span class="toc-section-number">9.6.1</span> plot (R-base)</a></li>
<li><a href="09-Graphique-ggplot.html#geom_point-ggplot2" id="toc-geom_point-ggplot2"><span class="toc-section-number">9.6.2</span> geom_point (ggplot2)</a></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#x-quantitative-continue-et-y-discrète" id="toc-x-quantitative-continue-et-y-discrète"><span class="toc-section-number">9.7</span> X quantitative continue et Y discrète</a>
<ul>
<li><a href="09-Graphique-ggplot.html#boxplot-r-base" id="toc-boxplot-r-base"><span class="toc-section-number">9.7.1</span> 6.1 boxplot (R-base)</a></li>
<li><a href="09-Graphique-ggplot.html#geom_boxplot-ggplot2" id="toc-geom_boxplot-ggplot2"><span class="toc-section-number">9.7.2</span> geom_boxplot (ggplot2)</a></li>
<li><a href="09-Graphique-ggplot.html#beanplot-r-base-package-beanplot" id="toc-beanplot-r-base-package-beanplot"><span class="toc-section-number">9.7.3</span> beanplot (R-base + package beanplot)</a></li>
<li><a href="09-Graphique-ggplot.html#geom_violin-ggplot2" id="toc-geom_violin-ggplot2"><span class="toc-section-number">9.7.4</span> geom_violin (ggplot2)</a></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#deux-variables-x-et-y-discrètes" id="toc-deux-variables-x-et-y-discrètes"><span class="toc-section-number">9.8</span> Deux variables X et Y discrètes</a>
<ul>
<li><a href="09-Graphique-ggplot.html#mosaicplot-r-base" id="toc-mosaicplot-r-base"><span class="toc-section-number">9.8.1</span> mosaicplot (R-base)</a></li>
<li><a href="09-Graphique-ggplot.html#geom_bar-ggplot2-1" id="toc-geom_bar-ggplot2-1"><span class="toc-section-number">9.8.2</span> geom_bar (ggplot2)</a></li>
</ul></li>
<li><a href="09-Graphique-ggplot.html#conclusion-1" id="toc-conclusion-1"><span class="toc-section-number">9.9</span> Conclusion</a>
<ul>
<li><a href="09-Graphique-ggplot.html#r-base-1" id="toc-r-base-1"><span class="toc-section-number">9.9.1</span> R-base</a></li>
<li><a href="09-Graphique-ggplot.html#ggplot2" id="toc-ggplot2"><span class="toc-section-number">9.9.2</span> ggplot2</a></li>
<li><a href="09-Graphique-ggplot.html#le-meilleur-des-deux-mondes" id="toc-le-meilleur-des-deux-mondes"><span class="toc-section-number">9.9.3</span> Le meilleur des deux mondes ?</a></li>
<li><a href="09-Graphique-ggplot.html#plotly-un-challenger-sérieux-de-ggplot-pour-le-web" id="toc-plotly-un-challenger-sérieux-de-ggplot-pour-le-web"><span class="toc-section-number">9.9.4</span> plotly, un challenger sérieux de ggplot pour le web</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction à la statistique bivariée et aux représentations graphiques avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="office-killer" class="section level1" number="2">
<h1><span class="header-section-number">Partie 2</span> Office killer</h1>
<p><img src="resources/figures/chap2_intro.png" width="256" /></p>
<ul>
<li><strong>Mise en place</strong> : Télécharger le <a href="https://github.com/ClaudeGrasland/bivaR/raw/main/resources/exos/exo2.zip">dossier exo2</a> et décompressez le sur votre ordinateur. Puis ouvrez le projet R <code>exo2.Rproj</code> dans Rstudio.</li>
</ul>
<p>Le but de ce chapitre est de montrer le plus tôt possible aux étudiants les possibilités de R et de son environnement R-Studio en ce qui concerne la production de documents ou de présentations dans le cadre d’une démarche reproductible. L’apprentissage précoce de <strong>Rmarkdown</strong> nous semble en effet indispensable, ne serait-ce que pour que les étudiants apprennent à prendre en cours des notes mélangeant les exemples de code R et les explications données en cours ou en TD.</p>
<p>Mais le but véritable est de convaincre tout ou partie des étudiants qu’ils peuvent remplacer à terme les logiciels de bureautique des suites office par un environnement de travail plus intégré et plus performant… à condition d’oublier la souris pour revenir au clavier !</p>
<blockquote>
<p>Real mensch never clcik !</p>
</blockquote>
<div id="rstudio-et-les-projets-r" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Rstudio et les projets R</h2>
<blockquote>
<ul>
<li>Au commencement, les dieux de la statistique créèrent le langage R.</li>
<li>Mais l’interface était vide et vague,</li>
<li>les ténèbres couvraient les lignes de code</li>
<li>R-Studio dit : Que le projet soit et le projet fut.</li>
</ul>
</blockquote>
<p>Si l’on veut s’épargner bien des désagréments dans l’apprentissage de R, il faut prendre dès le départ de bonnes habitudes. Parmi celles-ci, l’une des plus importantes est le fait d’inscrire toujours son travail dans le cadre d’un <strong>projet R</strong> c’est-à-dire - en simplifiant beaucoup - un <strong>répertoire de travail</strong> contenant l’ensemble des données, programmes, résultats… que l’on pourra par la suite compresser, archiver et transmettre à quelqu’un d’autre.</p>
<div id="lancement-de-r-studio" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Lancement de R studio</h3>
<p>Sauf à être complètement masochiste, on n’utilise jamais <strong>R</strong> directement mais on lance d’abord l’interface <strong>R-Studio</strong> qui facilite conisdérablement l’ensemble des opérations et offre une gamme considérable de services. Il ne faut toutefois pas confondre les deux et il serait par exemple ridicule d’indiquer sur un CV en vue d’un emploi de statisticien que l’on sait utiliser R-studio en oubliant de préciser que l’on maîtrise R.</p>
</div>
<div id="création-dun-projet" class="section level3" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Création d’un projet</h3>
<p>Pour créer un projet on utilise le menus déroulant <em>File/new project/ …</em> et on définit un dossier de notre ordinateur (existant ou à créer) qui contiendra le projet. Une fois l’opération effectuée, on pourra constater que ce dossier contient un fichier <em>xxx.Rproj</em> ou xxx est en principe le nom du dossier dans lequel vous avez stocké le projet.</p>
<p>Ce fichier contient toute une série d’informations dont nous ne parlerons pas dans ce cours d’initiation mais qui, pour faire simple, définissent un ensemble de réglages du logiciel et de préférences de l’utilisateur.</p>
<p>Si vous fermez Rstudio (faites-le !) il vous suffira pour reprendre votre travail là où vous vous étiez arrêté :</p>
<ul>
<li>de lancer R-studio et de cliquer sur <em>File/open project/…</em> suivi du nom du fichier xxx.Rproj</li>
<li>ou plus simplement encore de double cliquer sur le fichier xxx.Rproj ce qui lancera automatiquement Rstudio</li>
</ul>
<p>Le dossier contenant votre projet R peut être organisé à votre convenance. Certains mettent tout les fichier pêle-mêle dans le dossier. D’autres préfèrent créer des sous-dossiers contenant des données, des programmes, des résultats, des figures. Vous déciderez à l’usage de ce qui vous convient le mieux, mais le point important est que <strong>tout ce qui entre ou sort de vos programmes R doit être de préférence stocké dans le répertoire du projet</strong>.</p>
<p><img src="resources/figures/monprojet.png" width="516" /></p>
</div>
</div>
<div id="programme-r-excel-killer" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Programme R : Excel killer ?</h2>
<blockquote>
<ul>
<li>C’est pourquoi tu quittera Word et Excel, et t’attachera à R studio,</li>
<li>et vous deviendrez une seule chair.</li>
</ul>
</blockquote>
<p>La fonction initiale d’un langage de programmation comme R est … de créer des <strong>programmes</strong> c’est-à-dire des ensembles d’instruction permettant d’accomplir une tâche à l’intérieur d’une chaîne de production. Dans le cas d’un logiciel spécialisé dans l’analyse statistique, il s’agira donc de partir de données (statistiques, géographiques, textuelles, …) pour aboutir à des résultats prenant la forme de tableaux, cartes ou graphiques. Il ne s’agit donc en somme que d’une étape du travail de recherche où le principal avantage de R est d’<strong>automatiser une tâche</strong> et de faciliter sa <strong>reproduction ultérieure</strong> avec en arrière plan un objectif de <strong>productivité</strong> puisque l’ordinateur réalise en quelques millisecondes des tâches qui prendraient des heures avec un logiciel click-bouton de type Excel.</p>
<p><img src="resources/figures/ProgrammeR.png" width="475" /></p>
<p>Prenons un exemple simple de problème facile à résoudre avec R mais plus compliqué avec des logiciels click-boutons. Il s’agit d’un exemple pédagogique tiré d’un <a href="!http://grasland.script.univ-paris-diderot.fr/go303/ch1/ch1.htm">très vieux cours d’analyse spatiale</a> portant sur les semis de point et les localisations optimales.</p>
<p>On considère une carte papier permettant de localiser 5 station services à l’intérieur d’une ville à plan en damier. Chaque station livre chacune la même quantité de carburant par semaine aux clients. On souhaite répondre aux questions suivantes :</p>
<ol style="list-style-type: decimal">
<li>Comment saisir les données dans une fichier numérique ?</li>
<li>Comment reproduire la carte papier sous forme d’un graphique ?</li>
<li>Comment calculer la dsitance à vol d’oiseau entre toutes les stations ?</li>
<li>Comment calculer la dsitance routière entre toutes les stations ?</li>
<li>Où localiser un dépôt de carburant permettant d’alimenter les cinq stations en minimisant la distance moyenne de livraison (critère d’efficacite)</li>
<li>Où localiser une caserne de pompier qui doit pouvoir intervenir rapidement sur toute les stations et qui doit minimiser la distance maximale à la station la plus éloignée (critère d’équité).</li>
<li>Comment visualiser ces deux localisations sur la carte des stations ?</li>
<li>Comment reproduire ces tâches rapidement s’il y a des ajouts ou suppressions de stations</li>
</ol>
<p><img src="resources/figures/access.png" width="211" /></p>
<p>On constitue deux équipes d’étudiants, certains utilisant un programme R et d’autres Excel. On se propose de voir qui ira le plus vite sur chacune des 8 tâches proposées.</p>
<div id="round-1.-saisie-des-données-et-affichage-du-tableau" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Round 1. Saisie des données et affichage du tableau</h3>
<p>On crée un programme R avec <em>File/New File/R Script</em> puis on l’enregistre avec <em>File/Save/ …</em> suivi du nom du programme.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="02-initiation.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Saisie des variables</span></span>
<span id="cb1-2"><a href="02-initiation.html#cb1-2" aria-hidden="true" tabindex="-1"></a>CODE <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>,<span class="st">&quot;E&quot;</span>)</span>
<span id="cb1-3"><a href="02-initiation.html#cb1-3" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">180</span>)</span>
<span id="cb1-4"><a href="02-initiation.html#cb1-4" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">40</span>,<span class="dv">60</span>,<span class="dv">40</span>,<span class="dv">60</span>,<span class="dv">50</span>)</span>
<span id="cb1-5"><a href="02-initiation.html#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="02-initiation.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Regroupement dans un tableau</span></span>
<span id="cb1-7"><a href="02-initiation.html#cb1-7" aria-hidden="true" tabindex="-1"></a>coo <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(X,Y)</span>
<span id="cb1-8"><a href="02-initiation.html#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="02-initiation.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajout du nom des lignes</span></span>
<span id="cb1-10"><a href="02-initiation.html#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(coo) <span class="ot">&lt;-</span> CODE</span>
<span id="cb1-11"><a href="02-initiation.html#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="02-initiation.html#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichage du tableau</span></span>
<span id="cb1-13"><a href="02-initiation.html#cb1-13" aria-hidden="true" tabindex="-1"></a>coo</span></code></pre></div>
<pre><code>##     X  Y
## A  10 40
## B  20 60
## C  40 40
## D  50 60
## E 180 50</code></pre>
<p>Normalement, les étudiants qui utilisent un tableur ont du aller plus vite et Excel mène sur R par 1-0</p>
</div>
<div id="round-2.-affichage-de-la-carte" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Round 2. Affichage de la carte</h3>
<p>Vous devez essayez de reproduire l’image correspondant au problème posé</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="02-initiation.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(X,Y, </span>
<span id="cb3-2"><a href="02-initiation.html#cb3-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">col=</span><span class="st">&quot;red&quot;</span>, </span>
<span id="cb3-3"><a href="02-initiation.html#cb3-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch=</span><span class="dv">20</span>, </span>
<span id="cb3-4"><a href="02-initiation.html#cb3-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">180</span>),</span>
<span id="cb3-5"><a href="02-initiation.html#cb3-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">90</span>),</span>
<span id="cb3-6"><a href="02-initiation.html#cb3-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">asp =</span> <span class="dv">1</span>)</span>
<span id="cb3-7"><a href="02-initiation.html#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(X,Y,</span>
<span id="cb3-8"><a href="02-initiation.html#cb3-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">labels =</span> CODE, </span>
<span id="cb3-9"><a href="02-initiation.html#cb3-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">pos =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/carte001-1.svg" width="672" />
La création d’un graphique est à première vue plus facile avec un logiciel click-bouton. L’avantage est très clairement pour Excel qui mène désormais 2 à 0.</p>
</div>
<div id="round-3.-calcul-de-la-station-la-plus-accessible-à-vol-doiseau-distance-euclidienne" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Round 3. Calcul de la station la plus accessible à vol d’oiseau (distance euclidienne)</h3>
<p>Vous devez calculer une matrice de <strong>distance euclidienne</strong> entre toutes les stations et trouver la plus accessible.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="02-initiation.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calcul la matrice de distance euclidienne</span></span>
<span id="cb4-2"><a href="02-initiation.html#cb4-2" aria-hidden="true" tabindex="-1"></a>mat<span class="ot">&lt;-</span><span class="fu">dist</span>(coo, <span class="at">upper =</span> T, <span class="at">method =</span> <span class="st">&quot;euclidean&quot;</span>)</span>
<span id="cb4-3"><a href="02-initiation.html#cb4-3" aria-hidden="true" tabindex="-1"></a>mat</span></code></pre></div>
<pre><code>##           A         B         C         D         E
## A            22.36068  30.00000  44.72136 170.29386
## B  22.36068            28.28427  30.00000 160.31220
## C  30.00000  28.28427            22.36068 140.35669
## D  44.72136  30.00000  22.36068           130.38405
## E 170.29386 160.31220 140.35669 130.38405</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="02-initiation.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distance moyenne</span></span>
<span id="cb6-2"><a href="02-initiation.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(<span class="fu">as.matrix</span>(mat),<span class="dv">1</span>,mean)</span></code></pre></div>
<pre><code>##         A         B         C         D         E 
##  53.47518  48.19143  44.20033  45.49322 120.26936</code></pre>
<p>Là, je parie que les utilisateurs d’Excel ont eu un peu plus de mal … En tous les cas, Excel ne mèneplus que par 2 à 1</p>
</div>
<div id="round-4.-calcul-de-la-station-la-plus-accessible-par-la-route-distance-de-manhattan" class="section level3" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Round 4. Calcul de la station la plus accessible par la route (distance de Manhattan)</h3>
<p>Vous devez calculer une matrice de distance de Manhattan entre toutes les stations et trouver la plus accessible.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="02-initiation.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calcul la matrice de distance de Manhattan</span></span>
<span id="cb8-2"><a href="02-initiation.html#cb8-2" aria-hidden="true" tabindex="-1"></a>mat<span class="ot">&lt;-</span><span class="fu">dist</span>(coo,<span class="at">upper =</span> T, <span class="at">method =</span> <span class="st">&quot;manhattan&quot;</span>)</span>
<span id="cb8-3"><a href="02-initiation.html#cb8-3" aria-hidden="true" tabindex="-1"></a>mat</span></code></pre></div>
<pre><code>##     A   B   C   D   E
## A      30  30  60 180
## B  30      40  30 170
## C  30  40      30 150
## D  60  30  30     140
## E 180 170 150 140</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="02-initiation.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distance moyenne de Manhattan</span></span>
<span id="cb10-2"><a href="02-initiation.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(<span class="fu">as.matrix</span>(mat),<span class="dv">1</span>,mean)</span></code></pre></div>
<pre><code>##   A   B   C   D   E 
##  60  54  50  52 128</code></pre>
<p>Je reconnais que c’est unpeu facile, mais à nouveau R l’emporte ce qui fait désormais match nul 2-2</p>
</div>
<div id="round-5.-localisation-du-dépôt-de-carburant" class="section level3" number="2.2.5">
<h3><span class="header-section-number">2.2.5</span> Round 5. Localisation du dépôt de carburant</h3>
<p>Dans le cas particulier de la distance de Manhattan, le calcul du point le plus proche de tous les autres s’obtient facilement en calculant le point médian dont les coordonnées correspondent à la médiane de X et la médiane de Y.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="02-initiation.html#cb12-1" aria-hidden="true" tabindex="-1"></a>medX <span class="ot">&lt;-</span> <span class="fu">median</span>(X)</span>
<span id="cb12-2"><a href="02-initiation.html#cb12-2" aria-hidden="true" tabindex="-1"></a>medX</span></code></pre></div>
<pre><code>## [1] 40</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="02-initiation.html#cb14-1" aria-hidden="true" tabindex="-1"></a>medY <span class="ot">&lt;-</span> <span class="fu">median</span>(Y)</span>
<span id="cb14-2"><a href="02-initiation.html#cb14-2" aria-hidden="true" tabindex="-1"></a>medY</span></code></pre></div>
<pre><code>## [1] 50</code></pre>
<p>A priori, le calcul est aussi facile dans R et dans Excel : match nul 3-3</p>
</div>
<div id="round-6.-localisation-de-la-caserne-de-pompiers" class="section level3" number="2.2.6">
<h3><span class="header-section-number">2.2.6</span> Round 6. Localisation de la caserne de pompiers</h3>
<p>Dans le cas particulier de la distance de Manhattan, le calcul du point minimisant la distance maximale s’obtient en trouvant le centre du diamètre minimal en X et en Y. Il s’agit de la localisation la plus <strong>équitable</strong> où le plus défavorisé est le moins défavorisé possible.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="02-initiation.html#cb16-1" aria-hidden="true" tabindex="-1"></a>equX <span class="ot">&lt;-</span> (<span class="fu">max</span>(X)<span class="sc">+</span><span class="fu">min</span>(X))<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb16-2"><a href="02-initiation.html#cb16-2" aria-hidden="true" tabindex="-1"></a>equX</span></code></pre></div>
<pre><code>## [1] 95</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="02-initiation.html#cb18-1" aria-hidden="true" tabindex="-1"></a>equY <span class="ot">&lt;-</span> (<span class="fu">max</span>(Y)<span class="sc">+</span><span class="fu">min</span>(Y))<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb18-2"><a href="02-initiation.html#cb18-2" aria-hidden="true" tabindex="-1"></a>equY</span></code></pre></div>
<pre><code>## [1] 50</code></pre>
<p>A priori, le calcul est toujours aussi facile dans R et dans Excel : match nul 4-4</p>
</div>
<div id="round-7.-visualisation-des-deux-points-sur-la-carte" class="section level3" number="2.2.7">
<h3><span class="header-section-number">2.2.7</span> Round 7. Visualisation des deux points sur la carte</h3>
<p>On va placer en bleu le point médian et en vert le point le plus équitable. Dans le cas de R on peut recopier les lignes de code du graphique du round n°2 ce qui gagne désormais du temps :</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="02-initiation.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Programme antérieur</span></span>
<span id="cb20-2"><a href="02-initiation.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(X,Y, </span>
<span id="cb20-3"><a href="02-initiation.html#cb20-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">col=</span><span class="st">&quot;red&quot;</span>, </span>
<span id="cb20-4"><a href="02-initiation.html#cb20-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch=</span><span class="dv">20</span>, </span>
<span id="cb20-5"><a href="02-initiation.html#cb20-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">180</span>),</span>
<span id="cb20-6"><a href="02-initiation.html#cb20-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">90</span>),</span>
<span id="cb20-7"><a href="02-initiation.html#cb20-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">asp =</span> <span class="dv">1</span>)</span>
<span id="cb20-8"><a href="02-initiation.html#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(X,Y,</span>
<span id="cb20-9"><a href="02-initiation.html#cb20-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">labels =</span> CODE, </span>
<span id="cb20-10"><a href="02-initiation.html#cb20-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">pos =</span> <span class="dv">2</span>)</span>
<span id="cb20-11"><a href="02-initiation.html#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="02-initiation.html#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajout du dépôt de carburant</span></span>
<span id="cb20-13"><a href="02-initiation.html#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(medX, medY, <span class="at">col=</span><span class="st">&quot;blue&quot;</span>, <span class="at">pch=</span><span class="dv">3</span>)</span>
<span id="cb20-14"><a href="02-initiation.html#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(medX,medY, <span class="st">&quot;dépot&quot;</span>,<span class="at">pos=</span><span class="dv">1</span>)</span>
<span id="cb20-15"><a href="02-initiation.html#cb20-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-16"><a href="02-initiation.html#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajout du point médian</span></span>
<span id="cb20-17"><a href="02-initiation.html#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(equX, equY, <span class="at">col=</span><span class="st">&quot;green&quot;</span>, <span class="at">pch=</span><span class="dv">3</span>)</span>
<span id="cb20-18"><a href="02-initiation.html#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(equX,equY, <span class="st">&quot;caserne&quot;</span>,<span class="at">pos=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/carte002-1.svg" width="672" /></p>
<p>Le résultat du match est incertain mais R n’est plus désavantagé puisqu’on peut recycler les lignes de code précédentes pour le graphique de base. Disons 5-5 même s’il y a de fortes chances que R l’emporte.</p>
</div>
<div id="dernier-round.-refaire-toute-lanalyse-avec-une-station-de-plus" class="section level3" number="2.2.8">
<h3><span class="header-section-number">2.2.8</span> Dernier round. Refaire toute l’analyse avec une station de plus</h3>
<p>Deux stations F(100,20) et G(150,30) ont été ajoutées. Il faut refaire la carte finale. Cela ne pose aucun problème dans R puisqu’il suffit de modifier l’entrée des données et récupérer des bouts de programme</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="02-initiation.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># (1) Saisie des variables</span></span>
<span id="cb21-2"><a href="02-initiation.html#cb21-2" aria-hidden="true" tabindex="-1"></a>CODE <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>,<span class="st">&quot;E&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;G&quot;</span>)</span>
<span id="cb21-3"><a href="02-initiation.html#cb21-3" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">180</span>,<span class="dv">100</span>,<span class="dv">150</span>)</span>
<span id="cb21-4"><a href="02-initiation.html#cb21-4" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">40</span>,<span class="dv">60</span>,<span class="dv">40</span>,<span class="dv">60</span>,<span class="dv">50</span>,<span class="dv">20</span>,<span class="dv">30</span>)</span>
<span id="cb21-5"><a href="02-initiation.html#cb21-5" aria-hidden="true" tabindex="-1"></a>coo <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(X,Y)</span>
<span id="cb21-6"><a href="02-initiation.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(coo) <span class="ot">&lt;-</span> CODE</span>
<span id="cb21-7"><a href="02-initiation.html#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="02-initiation.html#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="02-initiation.html#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co"># (2) calcul des points centraux</span></span>
<span id="cb21-10"><a href="02-initiation.html#cb21-10" aria-hidden="true" tabindex="-1"></a>medX <span class="ot">&lt;-</span> <span class="fu">median</span>(X)</span>
<span id="cb21-11"><a href="02-initiation.html#cb21-11" aria-hidden="true" tabindex="-1"></a>medY <span class="ot">&lt;-</span> <span class="fu">median</span>(Y)</span>
<span id="cb21-12"><a href="02-initiation.html#cb21-12" aria-hidden="true" tabindex="-1"></a>equX <span class="ot">&lt;-</span> (<span class="fu">max</span>(X)<span class="sc">+</span><span class="fu">min</span>(X))<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb21-13"><a href="02-initiation.html#cb21-13" aria-hidden="true" tabindex="-1"></a>equY <span class="ot">&lt;-</span> (<span class="fu">max</span>(Y)<span class="sc">+</span><span class="fu">min</span>(Y))<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb21-14"><a href="02-initiation.html#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="02-initiation.html#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="02-initiation.html#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co"># (3) Graphique</span></span>
<span id="cb21-17"><a href="02-initiation.html#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(X,Y, </span>
<span id="cb21-18"><a href="02-initiation.html#cb21-18" aria-hidden="true" tabindex="-1"></a>     <span class="at">col=</span><span class="st">&quot;red&quot;</span>, </span>
<span id="cb21-19"><a href="02-initiation.html#cb21-19" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch=</span><span class="dv">20</span>, </span>
<span id="cb21-20"><a href="02-initiation.html#cb21-20" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">180</span>),</span>
<span id="cb21-21"><a href="02-initiation.html#cb21-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">90</span>),</span>
<span id="cb21-22"><a href="02-initiation.html#cb21-22" aria-hidden="true" tabindex="-1"></a>     <span class="at">asp =</span> <span class="dv">1</span>)</span>
<span id="cb21-23"><a href="02-initiation.html#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(X,Y,</span>
<span id="cb21-24"><a href="02-initiation.html#cb21-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">labels =</span> CODE, </span>
<span id="cb21-25"><a href="02-initiation.html#cb21-25" aria-hidden="true" tabindex="-1"></a>     <span class="at">pos =</span> <span class="dv">2</span>)</span>
<span id="cb21-26"><a href="02-initiation.html#cb21-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-27"><a href="02-initiation.html#cb21-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajout du dépôt de carburant</span></span>
<span id="cb21-28"><a href="02-initiation.html#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(medX, medY, <span class="at">col=</span><span class="st">&quot;blue&quot;</span>, <span class="at">pch=</span><span class="dv">3</span>)</span>
<span id="cb21-29"><a href="02-initiation.html#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(medX,medY, <span class="st">&quot;Dépôt&quot;</span>,<span class="at">pos=</span><span class="dv">1</span>)</span>
<span id="cb21-30"><a href="02-initiation.html#cb21-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-31"><a href="02-initiation.html#cb21-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajout du point médian</span></span>
<span id="cb21-32"><a href="02-initiation.html#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(equX, equY, <span class="at">col=</span><span class="st">&quot;green&quot;</span>, <span class="at">pch=</span><span class="dv">3</span>)</span>
<span id="cb21-33"><a href="02-initiation.html#cb21-33" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(equX,equY, <span class="st">&quot;Caserne&quot;</span>,<span class="at">pos=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/carte003-1.svg" width="672" /></p>
<p>Excel n’a aucune chance d’aller plus vite et R remporte le match par KO !</p>
</div>
</div>
<div id="document-rmd-word-killer" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Document Rmd : Word killer ?</h2>
<blockquote>
<ul>
<li>R-Studio dit : « Faisons une interface de rédaction adaptée à notre travail,</li>
<li>Que l’utilisateur puissent y insérer les tableaux, les graphiques, les cartes, les références bibliographiques, et tous les écrits qui les commentent. »</li>
</ul>
</blockquote>
<p>Nous venons de voir comment une bonne pratique de R peut conduire progressivement à abandonner l’usage des tableurs (Excel, Open Office) sauf peut-être pour l’étape de saisie des données. Dès lors qu’il s’agit de réaliser des graphiques ou des calculs statistiques complexes, la rédaction d’un programme se révèle beaucoup plus intéressante même si elle impose un coût initial d’apprentissage.</p>
<p>Mais une bonne pratique de R ou plus précisément des documents R markdown peut vous conduire beaucoup plus loin et vous amener à abandonner également votre logiciel de traitement de texte (Word) et votre outil de présentation (Power Point). Le coût d’apprentissage est naturellement un peu plus élevé mais les bénéfices sont à la mesure de l’investissement.</p>
<p>Comme le montre la figure ci-dessous, un document R markdown est en quelques sorte un mélange entre des lignes de code R qui executent des tâches et des lignes de texte où sont expliqués les calculs et commentés les résultats obtenus. En d’autres termes, un document R markdown vous permet de rédiger un article de recherche complet, une présentation à une conférence, un syllabus de cours, dans un seul environnement logiciel (R studio).</p>
<p>Nul besoin de ciseau et de colle pour aller chercher tel tableau ici, tel figure là-bas ou telle carte ailleurs. Tous ces éléments sont intégrs au fur et à mesure de la rédaction ce qui facilite considérablement la concentration. Et surtout - on l’a déjà vu pour le programme R - le document peut facilement être reproduit ou mise à jour sans être obligé de réplique des dizaines de click de souris.</p>
<p><img src="resources/figures/DocumentRmd.png" width="475" />
Nous allons illustrer l’usage de R markdown en rédigeant une courte note sur la distribution de la population et de certains commerces et services à Rennes. L’exemple est repris du <a href="https://www.insee.fr/fr/information/3635442">Manuel d’analyse spatiale publié par l’INSEE en 2018</a> et plus précisement de son <a href="https://www.insee.fr/fr/statistiques/fichier/3635442/imet131-h-chapitre-4.pdf">chapitre 4. Les configurations de points</a></p>
<p>Comme nous avons pris la perspective de n’employer aucun package R au cours de cette formation initiale, les données ont été légèrement modifiées, notamment pour le tracé de la carte des contours de la ville de Rennes.</p>
<div id="chargement-des-données" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Chargement des données</h3>
<p>Nous disposons de trois fichiers qui comportent chacun des coordonnées de localisation utilisant la même projection Lambert et que l’on pourra de ce fait superposer. Après les avoir chargés et décrits, on en propose une première visualisation à l’aide des fonctions graphiques de base de R.</p>
</div>
<div id="contour-de-rennes" class="section level3" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Contour de Rennes</h3>
<p>On charge le fichier avec <code>read.table()</code> puis on affiche ses premières lignes avec <code>head()</code>et on regarde sa taille avec <code>dim()</code></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="02-initiation.html#cb22-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;resources/data/rennes/map.csv&quot;</span>,</span>
<span id="cb22-2"><a href="02-initiation.html#cb22-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">header =</span> T,</span>
<span id="cb22-3"><a href="02-initiation.html#cb22-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb22-4"><a href="02-initiation.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(map,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##          x       y
## 1 346382.1 6786334
## 2 346460.0 6786704</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="02-initiation.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(map)</span></code></pre></div>
<pre><code>## [1] 37  2</code></pre>
<p>On affiche le contour avec les instructions <code>plot()</code> et <code>lines()</code>. On doit impérativement ajouter le paramètre <em>asp = 1</em> dans plot() pour imposer une échelle identique sur l’axe vertical et l’axe horizontal.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="02-initiation.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(map<span class="sc">$</span>x,map<span class="sc">$</span>y, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">asp =</span> <span class="dv">1</span>)</span>
<span id="cb26-2"><a href="02-initiation.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(map<span class="sc">$</span>x,map<span class="sc">$</span>y, <span class="at">col=</span><span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-12-1.svg" width="672" /></p>
</div>
<div id="distribution-de-la-population" class="section level3" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> Distribution de la population</h3>
<p>On charge le fichier de population de la même manière et on constate qu’il comporte une troisième colonne indiquant la population localisée en chaque point. En fait, il s’agit d’une grille de population qui localise les habitants sur une maille de ??? m</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="02-initiation.html#cb27-1" aria-hidden="true" tabindex="-1"></a>pop <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;resources/data/rennes/popu.csv&quot;</span>,</span>
<span id="cb27-2"><a href="02-initiation.html#cb27-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">header =</span> T,</span>
<span id="cb27-3"><a href="02-initiation.html#cb27-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb27-4"><a href="02-initiation.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pop,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##          x       y pop
## 1 346202.1 6790631  20
## 2 346203.4 6792843   5</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="02-initiation.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(pop)</span></code></pre></div>
<pre><code>## [1] 24916     3</code></pre>
<p>On procède à une première cartographie qui ne tient pas compte de l’effectif de population mais indique juste les cases occupées et inoccupées, ce qui permet de donner une vision générale de l’occuparion du sol et du peuplement de Rennes et de l’espace environnant.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="02-initiation.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pop<span class="sc">$</span>x,pop<span class="sc">$</span>y, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">asp =</span> <span class="dv">1</span>,<span class="at">pch=</span><span class="dv">22</span>, <span class="at">cex=</span><span class="fl">0.01</span>)</span>
<span id="cb31-2"><a href="02-initiation.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(map<span class="sc">$</span>x,map<span class="sc">$</span>y, <span class="at">col=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-14-1.svg" width="672" /></p>
</div>
<div id="distribution-des-équipements" class="section level3" number="2.3.4">
<h3><span class="header-section-number">2.3.4</span> Distribution des équipements</h3>
<p>L’INSEE a extrait du fichier de la Base Publique des Equipements quatre types de localisations correspondant aux écoles, aux médecins, aux pharmacies et aux commerces de vêtements. On notera l’ajout du paramètre <em>encoding=“UTF-8”</em> qui permet de lire sans erreur les caractères accentués et d’éviter par exemple que “Vêtements” devienne “VÃªtements”.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="02-initiation.html#cb32-1" aria-hidden="true" tabindex="-1"></a>bpe <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;resources/data/rennes/bpe.csv&quot;</span>,</span>
<span id="cb32-2"><a href="02-initiation.html#cb32-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">header =</span> T,</span>
<span id="cb32-3"><a href="02-initiation.html#cb32-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>,</span>
<span id="cb32-4"><a href="02-initiation.html#cb32-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">encoding=</span><span class="st">&quot;UTF-8&quot;</span>)</span>
<span id="cb32-5"><a href="02-initiation.html#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bpe,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##            x       y    equ
## 286 349156.2 6790525 Ecoles
## 287 351800.4 6786774 Ecoles</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="02-initiation.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(bpe)</span></code></pre></div>
<pre><code>## [1] 767   3</code></pre>
<p>On utilise l’instruction <code>table()</code>pour dénombrer l’effectif de chaque équipement :</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="02-initiation.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bpe<span class="sc">$</span>equ)</span></code></pre></div>
<pre><code>## 
##     Ecoles   Médecins Pharmacies  Vêtements 
##         59        268         70        370</code></pre>
<p>Puis on visualise après avoir attribué une couleur à chaque équipement. On crée pour cela une nouvelle variable :</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="02-initiation.html#cb38-1" aria-hidden="true" tabindex="-1"></a>bpe<span class="sc">$</span>couleur<span class="ot">&lt;-</span><span class="fu">as.factor</span>(bpe<span class="sc">$</span>equ)</span>
<span id="cb38-2"><a href="02-initiation.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(bpe<span class="sc">$</span>couleur)</span></code></pre></div>
<pre><code>## [1] &quot;Ecoles&quot;     &quot;Médecins&quot;   &quot;Pharmacies&quot; &quot;Vêtements&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="02-initiation.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(bpe<span class="sc">$</span>couleur)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;orange&quot;</span>,<span class="st">&quot;red&quot;</span>)</span>
<span id="cb40-2"><a href="02-initiation.html#cb40-2" aria-hidden="true" tabindex="-1"></a>bpe<span class="sc">$</span>couleur<span class="ot">&lt;-</span><span class="fu">as.character</span>(bpe<span class="sc">$</span>couleur)</span>
<span id="cb40-3"><a href="02-initiation.html#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(bpe<span class="sc">$</span>couleur)</span></code></pre></div>
<pre><code>## 
##   blue  green orange    red 
##     59    268     70    370</code></pre>
</div>
<div id="synthèse" class="section level3" number="2.3.5">
<h3><span class="header-section-number">2.3.5</span> Synthèse</h3>
<p>On peut désormais assembler nos trois couches :</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="02-initiation.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pop<span class="sc">$</span>x,pop<span class="sc">$</span>y, <span class="at">col=</span><span class="st">&quot;gray&quot;</span>, <span class="at">asp =</span> <span class="dv">1</span>,<span class="at">pch=</span><span class="dv">22</span>, <span class="at">cex=</span><span class="fl">0.01</span>)</span>
<span id="cb42-2"><a href="02-initiation.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(map<span class="sc">$</span>x,map<span class="sc">$</span>y, <span class="at">col=</span><span class="st">&quot;black&quot;</span>)</span>
<span id="cb42-3"><a href="02-initiation.html#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(bpe<span class="sc">$</span>x,bpe<span class="sc">$</span>y,<span class="at">bg=</span>bpe<span class="sc">$</span>couleur, <span class="at">pch=</span><span class="dv">21</span>, <span class="at">cex=</span><span class="fl">0.8</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-18-1.svg" width="672" /></p>
<p>Il est facile de procéder à un zoom en ajoutant des paramètres <em>xlim</em> et <em>ylim</em> dans la fonction plot() qui précise l’espace d’étude.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="02-initiation.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pop<span class="sc">$</span>x,</span>
<span id="cb43-2"><a href="02-initiation.html#cb43-2" aria-hidden="true" tabindex="-1"></a>     pop<span class="sc">$</span>y, </span>
<span id="cb43-3"><a href="02-initiation.html#cb43-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">col=</span><span class="st">&quot;gray&quot;</span>, </span>
<span id="cb43-4"><a href="02-initiation.html#cb43-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">asp =</span> <span class="dv">1</span>,</span>
<span id="cb43-5"><a href="02-initiation.html#cb43-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch=</span><span class="dv">22</span>, </span>
<span id="cb43-6"><a href="02-initiation.html#cb43-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex=</span><span class="fl">0.1</span>,</span>
<span id="cb43-7"><a href="02-initiation.html#cb43-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">351000</span>,<span class="dv">353000</span>),</span>
<span id="cb43-8"><a href="02-initiation.html#cb43-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">6788500</span>,<span class="dv">6790500</span>))</span>
<span id="cb43-9"><a href="02-initiation.html#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="02-initiation.html#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(map<span class="sc">$</span>x,</span>
<span id="cb43-11"><a href="02-initiation.html#cb43-11" aria-hidden="true" tabindex="-1"></a>      map<span class="sc">$</span>y, </span>
<span id="cb43-12"><a href="02-initiation.html#cb43-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">col=</span><span class="st">&quot;black&quot;</span>)</span>
<span id="cb43-13"><a href="02-initiation.html#cb43-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-14"><a href="02-initiation.html#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(bpe<span class="sc">$</span>x,</span>
<span id="cb43-15"><a href="02-initiation.html#cb43-15" aria-hidden="true" tabindex="-1"></a>       bpe<span class="sc">$</span>y,</span>
<span id="cb43-16"><a href="02-initiation.html#cb43-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">bg=</span>bpe<span class="sc">$</span>couleur, </span>
<span id="cb43-17"><a href="02-initiation.html#cb43-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch=</span><span class="dv">21</span>, </span>
<span id="cb43-18"><a href="02-initiation.html#cb43-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex=</span><span class="fl">0.8</span>)</span></code></pre></div>
<p><img src="bivaR_files/figure-html/unnamed-chunk-19-1.svg" width="672" /></p>
<p>OK, notre carte n’a pas de légende (c’est possible mais vraiment compliqué en R-Base) mais on appréciera le fait d’avoir pu la réaliser en ne se servant que de quelques fonctions élémentaires de R comme</p>
</div>
</div>
<div id="diapos-rmd-power-point-killer" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Diapos Rmd : Power Point killer</h2>
<p>Lorsque l’on crée un fichier Markdown, on peut décider qu’il ne s’agit pas d’un document mais d’une présentation et opter pour l’un des deux modes par défaut appelés <code>slidy</code> et <code>ioslides</code>.</p>
<p><img src="resources/figures/RmdDiapo.png" width="669" /></p>
<p>On peut ensuite créer un diaporama en donnant un titre général et en séparant chaque diapo par un titre de niveau 2 correspondant à des lignes débutant par <code>##</code> comme dans l’exemple ci-dessous :</p>
<p><img src="resources/figures/diapo_prog.png" width="805" /></p>
<p>Il ne reste plus qu’à compiler le programme avec l’icône <code>Knit</code> (pelotte de laine) pour générer un document .html en forme de dipositives.</p>
<p><img src="resources/figures/diapo1.png" width="897" /><img src="resources/figures/diapo2.png" width="897" /><img src="resources/figures/diapo3.png" width="897" /></p>
</div>
<div id="en-résumé-1" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> En résumé</h2>
<div class="rmdnote">
<p>
R est un <code>Excel killer</code> mais aussi un
<code>Word killer</code> voire un <code>Power point killer</code>…
Adopter R peut nuire gravement à vos habitudes antérieures de
travail.
</p>
</div>

</div>
</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="01-principes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="03-R-Base.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ClaudeGrasland/bivR/blob/main/02-initiation.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bivaR.epub", "bivaR.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
